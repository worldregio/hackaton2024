[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Hackaton 2024",
    "section": "",
    "text": "Développer vos connaissances en analyse quantitative des données dans l’espace\nExploiter des données individuelles (recensement de la population, répertoire des logements sociaux)\nApprofondir votre utilisation du logiciel R\nTravailler en groupe et préparer une restitution commune\nRépondre à une “commande” dans un temps limité"
  },
  {
    "objectID": "index.html#objectifs-de-la-semaine",
    "href": "index.html#objectifs-de-la-semaine",
    "title": "Hackaton 2024",
    "section": "",
    "text": "Développer vos connaissances en analyse quantitative des données dans l’espace\nExploiter des données individuelles (recensement de la population, répertoire des logements sociaux)\nApprofondir votre utilisation du logiciel R\nTravailler en groupe et préparer une restitution commune\nRépondre à une “commande” dans un temps limité"
  },
  {
    "objectID": "index.html#organisation-de-la-semaine",
    "href": "index.html#organisation-de-la-semaine",
    "title": "Hackaton 2024",
    "section": "Organisation de la semaine",
    "text": "Organisation de la semaine\n\nPlanning des intervenants et contenu des journées\n\n07/10 : Organisation de la semaine et présentation des données (matin, Pierre Pistre)\n07/10 : Chargement des données et prise en main des données individuelles de recensement (après-midi, Claude Grasland)\n08/10 : Prise en main des données individuelles sur les logements sociaux (matin, Pierre Pistre)\n08/10 : Approfondissements statistiques et cartographiques (semis de points… ; après-midi, Claude Grasland)\n09/10 et 10/10 : Analyses temporelles et accompagnement des projets de groupe (Hadrien Commenges)\n11/10 : Finalisation des projets de groupe en autonomie (matin) et restitution orale (après-midi)\n\n\n\nHoraires des séances et planning des salles (Bâtiment Olympe de Gouges, Campus des Grands Moulins, Université Paris Cité)\n\n07/10 : 9h30-12h30 et 13h30-17h30 : salle M019 (étage Mezzanine)\n08/10 : 9h30-12h30 et 13h30-17h30 : salle 209 (2ième étage)\n09/10 : 9h30-12h30 et 13h30-17h30 : salle 209 (2ième étage)\n10/10 : 9h30-12h30 et 13h30-17h30 : salle 209 (2ième étage)\n11/10 : 9h30-12h30 et 13h30-17h30 : salle 209 (2ième étage)"
  },
  {
    "objectID": "index.html#données-utilisées",
    "href": "index.html#données-utilisées",
    "title": "Hackaton 2024",
    "section": "Données utilisées",
    "text": "Données utilisées\n\n(sources) Base de données principales :\n\n\nFichier “Logements oridinaires” (LOGEMT) 2020 (localisations : IRIS, communes. . . ), produit par l’INSEE à partir du recensement de la population. Données en accés libre : https://www.insee.fr/fr/statistiques/7705908?sommaire=7637890\nRépertoire des logements locatifs des bailleurs sociaux en 2020, produit par le Ministère de la Transition écologique. Données en accès libre : https://www.data.gouv.fr/fr/datasets/repertoire-des-logements-locatifs-des-bailleurs-sociaux/\n\n\n(sources) Autres fichiers :\n\n\nShapefile Contours IRIS® (IGN) : https://geoservices.ign.fr/contoursiris"
  },
  {
    "objectID": "index.html#exercice-dapplication-en-groupe",
    "href": "index.html#exercice-dapplication-en-groupe",
    "title": "Hackaton 2024",
    "section": "Exercice d’application en groupe",
    "text": "Exercice d’application en groupe\n\nPérimètres de l’exercice\n\nCas d’étude : commune-centre d’une grande agglomération française\nObjet d’étude : les logements locatifs sociaux et leurs habitants\nEchelles et mailles géographiques : communes, IRIS, adresses\n\n\n\nConsigne de la “commande”\n\nContexte général légal : la loi relative à la solidarité et au renouvellement urbain (SRU), adoptée le 13 décembre 2000, vise notamment un meilleur équilibre de répartition des logements sociaux en France. Son article 55 oblige “certaines communes à disposer d’un nombre minimum de logements sociaux, proportionnel à leur parc résidentiel” (pour des informations supplémentaires : https://www.ecologie.gouv.fr/larticle-55-loi-solidarite-et-renouvellement-urbain-sru-mode-demploi ; https://www.ecologie.gouv.fr/sru?ville=Mions&code=69283) ; ces communes doivent en particulier “disposer de 25 % de logements sociaux, en regard des résidences principales, d’ici 2025”.\nCommande : si le logement social est surtout un levier de politique publique en matière de logement et d’action sociale, il est aussi un domaine d’analyse important des inégalités sociospatiales. En 2015, France Stratégie (“Institution autonome placée auprès du Premier ministre, qui contribue à l’action publique par ses analyses et ses propositions”) a analysé l’évolution de la ségrégation résidentielle - au sens d’une concentration spatiale plus ou moins forte des populations et des logements selon leurs caractéristiques sociales - dans les principales unités urbaines de France métropolitaine (voir https://www.strategie.gouv.fr/publications/evolution-de-segregation-residentielle-france). Cette étude souligne notamment la stabilité générale de la ségrégation depuis les années 1990 et même une baisse pour le parc HLM, c’est-à-dire une meilleure diffusion des logements sociaux sur le territoire. A la suite de cette étude de référence, l’INSEE décide de commander à ses antennes régionales la réalisation d’études rigoureuses, synthétiques et fines spatialement sur la situation du logement social dans plusieurs communes centrales de grandes agglomérations françaises. Il s’agit principalement d’évaluer la situation de ces communes vis-à-vis du cadre légal de la loi SRU et d’approfondir la connaissance institutionnelle sur la géographie interne de répartition des logements sociaux : la tendance récente est-elle plutôt toujours à une diffusion et à une moindre ségrégation ?… Le format attendu de ces notes de synthèse, mobilisant les données disponibles les plus précises, est celui d’un 4 pages de type Insee Première (https://www.insee.fr/fr/statistiques/3635547)“.\n\n\n\nModalités de l’exercice, restitution du travail et organisation durant la semaine\n\nLundi matin : constitution de groupes de 4 étudiant·es de préférence (ou 5), mélangeant les profils de Master\nLundi à mercredi : réflexion sur les possibilités d’analyse et explorations des données : variables pertinentes, traitements envisagés…\nMardi à jeudi : réalisation des analyses statistiques et cartographiques\nMercredi à vendredi matin : organisation, mise en forme des analyses et rédaction de la note écrite\nVendredi après-midi : présentation orale (environ 10 minutes, sans autre support visuel que la note écrite) devant un “jury” composé des intervenants de la semaine (et de possibles extérieurs)\n\n\n\nCas d’étude\nLa commune-centre de grandes agglomérations françaises :\n\nLyon (codegeo : 69123)\nMontpellier (codegeo : 34172)\nNantes (codegeo : 44109)\nNice (codegeo : 06088)\nRennes (codegeo : 35238)\nSaint-Etienne (codegeo : 42218)\nStrasbourg (codegeo : 67482)\nToulouse (codegeo : 31555)\n\n\n\nFormat du rendu\n\nIntroduction et définition (thématique et statistique) de l’objet : thème et cas d’étude\nEtat des lieux général des logements sociaux dans la commune-centre étudiée, par rapport au contexte national (loi SRU par exemple), aux évolutions temporelles… Echelle de référence = commune ; maille de référence = IRIS\nCaractérisation des logements sociaux (types de logement, habitants) et de leur localisation dans la commune d’étude. Echelle de référence = commune ; mailles de référence = IRIS, adresse.\nApprofondissements selon les catégories de logements sociaux (cf. quatre modes de financement : PLI, PLS, PLAI, PLUS). Echelle de référence = commune ; mailles de référence = IRIS, adresse."
  },
  {
    "objectID": "02-agregation-sociale.html",
    "href": "02-agregation-sociale.html",
    "title": "Agrégation sociale",
    "section": "",
    "text": "Code\n# Options générales\nlibrary(knitr)\nknitr::opts_chunk$set(echo = TRUE, \n                      warning= FALSE, \n                      error=FALSE)\n\n# Selection de packages tidyverse\nlibrary(dplyr,quietly = T,warn.conflicts = F,verbose = F)\nlibrary(tidyr,quietly = T,warn.conflicts = F,verbose = F)\nlibrary(ggplot2,quietly = T,warn.conflicts = F,verbose = F)\n\n# packages de cartographie\nlibrary(sf,quietly = T, verbose=F)\n\n\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\n\nCode\n# Packages d'enquête\n#library(xtable)\n#library(survey)\nlibrary(questionr)"
  },
  {
    "objectID": "02-agregation-sociale.html#objectifs",
    "href": "02-agregation-sociale.html#objectifs",
    "title": "Agrégation sociale",
    "section": "Objectifs",
    "text": "Objectifs\nDans ce premier exercice on ne va pas s’intéresser à la géographie des logements sociaux mais à leur sociologie. On va donc croiser la variable Y = ménages résidant dans un logement social avec d’autres variables X1 ..Xn décrivant les attributs des ménages et chercher s’il existe des relations statistiquement significatives.\n\nFormuler des questions ou des hypothèses\nQu’elles soient justes ou fausses, les hypothèses permettent de cadrer l’analyse.\n\nDiplôme et logement social : Les logements sociaux sont-ils réservés aux ménages les moins diplômés ?\nÂge et logement social : Les logements sociaux sont-ils réservés aux jeunes ménages ?\nLogement social, âge et diplômes : Les personnes diplômés quittent-elles les logements sociaux dès que leurs revenus progressent\n\n\n\nOrganiser le travail\nSutout dans le cadre d’un groupe !\n\nNe collecter que les données utiles pour répondre aux questions posées afin de ne pas être tenté de partir dans toutes les directions\nArchiver soigneusement les programmes et les résultats afin de pouvoir reproduire ultérieurement les analyses sur une autre période, un autre territoire\nNe pas attendre d’avoir accumulé tous les résultats pour les commenter car l’analyse peut suggérer des erreurs ou ouvrir de nouvelles pistes.\nPartir des questions et non pas des outils faute de quoi on va trouver des réponses (42 …) sans savoir quelle est la question.\n\n\n\nChargement des données\n\n\nCode\ntab_ind&lt;-readRDS(\"res/tabmen.RDS\")\n\nhead(tab_ind[,1:5],2)\n\n\nFALSE   X COMMUNE   ARM      IRIS ACHL\nFALSE 1 1   13055 13201 132010101  B11\nFALSE 2 2   13055 13201 132010101  A12\n\n\n\n\nRéviser ses cours de statistiques …\nSelon la nature des variables X et Y vous devrez faire appel à des méthodes statistiques différentes. Nous allons donner ici deux exemples différents"
  },
  {
    "objectID": "02-agregation-sociale.html#exemple-1-logement-hlm-et-diplôme",
    "href": "02-agregation-sociale.html#exemple-1-logement-hlm-et-diplôme",
    "title": "Agrégation sociale",
    "section": "Exemple 1 : Logement HLM et diplôme",
    "text": "Exemple 1 : Logement HLM et diplôme\n\nPréparation de l’analyse\n\nSoit la relation entre logement en HLM (Y) et Diplôme le plus élevé du chef de ménage (X). Il s’agit de deux variables catégorielles (= qualitatives) que l’on va typiquement mettre en relation à l’aide d’un tableau de contingence et d’un test du chi-2. L’analyse statistique est simple sous R mais il faut tenir compte de trois difficultés\nLe choix de la population de référence est important. Ici on va sélectionner les ménages dont la personne de référence est âgée de 25-39 ans\nla sélection ou le regroupement des diplômes est également important car cela va influer sur les résultats du test.\nla pondération des individus doit également être prise en compte puisque le recensement est basé sur un sondage\n\n\n\nSélection des individus et des variables\n\n\nCode\ntab_sel&lt;- tab_ind %&gt;% \n  filter(AGEMEN8 == \"25\") %&gt;%\n  select(DIPLM,HLML, IPONDL) \n\n\nknitr::kable(head(tab_sel,4))\n\n\n\n\n\nDIPLM\nHLML\nIPONDL\n\n\n\n\n15\n2\n2.48657\n\n\n15\n2\n2.48657\n\n\n18\n2\n2.48657\n\n\n18\n2\n2.48657\n\n\n\n\n\n\n\nRecodage des modalités\nOn cherche le code des modalités CS1 ezt HLML dans le fichier des métadonnées\n\n\nCode\nmeta&lt;-readRDS(\"res/tabmen_meta.RDS\")\nmetasel &lt;- meta %&gt;% filter(COD_VAR %in% c(\"DIPLM\", \"HLML\"))\nkable(metasel[,c(1,3,4)])\n\n\n\n\n\n\n\n\n\n\nCOD_VAR\nCOD_MOD\nLIB_MOD\n\n\n\n\nDIPLM\n01\nPas de scolarité ou arrêt avant la fin du primaire\n\n\nDIPLM\n02\nAucun diplôme et scolarité interrompue à la fin du primaire ou avant la fin du collège\n\n\nDIPLM\n03\nAucun diplôme et scolarité jusqu’à la fin du collège ou au-delà\n\n\nDIPLM\n11\nCEP (certificat d’études primaires)\n\n\nDIPLM\n12\nBEPC, brevet élémentaire, brevet des collèges, DNB\n\n\nDIPLM\n13\nCAP, BEP ou diplôme de niveau équivalent\n\n\nDIPLM\n14\nBaccalauréat général ou technologique, brevet supérieur, capacité en droit, DAEU, ESEU\n\n\nDIPLM\n15\nBaccalauréat professionnel, brevet professionnel, de technicien ou d’enseignement, diplôme équivalent\n\n\nDIPLM\n16\nBTS, DUT, Deug, Deust, diplôme de la santé ou du social de niveau bac+2, diplôme équivalent\n\n\nDIPLM\n17\nLicence, licence pro, maîtrise, diplôme équivalent de niveau bac+3 ou bac+4\n\n\nDIPLM\n18\nMaster, DEA, DESS, diplôme grande école niveau bac+5, doctorat de santé\n\n\nDIPLM\n19\nDoctorat de recherche (hors santé)\n\n\nDIPLM\nYY\nHors résidence principale\n\n\nHLML\n1\nLogement appartenant à un organisme HLM\n\n\nHLML\n2\nLogement n’appartenant pas à un organisme HLM\n\n\nHLML\nY\nHors résidence principale\n\n\n\n\n\nOn recode les modalités des deux variables en regroupant certaines CSP\n\n\nCode\ntab_sel$HLML&lt;-as.factor(tab_sel$HLML)\nlevels(tab_sel$HLML)&lt;-c(\"HLM-O\",\"HLM-N\",NA)\ntab_sel$DIPLM&lt;-as.factor(tab_sel$DIPLM)\nlevels(tab_sel$DIPLM) &lt;- c(\"&lt; BAC\",\"&lt; BAC\",\"&lt; BAC\",\"&lt; BAC\",\"&lt; BAC\",\"&lt; BAC\",\n                         \"BAC\",\"BAC\",\n                         \"BAC+123\",\"BAC+123\",\"&gt; BAC+3\",\"&gt; BAC+3\",NA)\ntable(tab_sel$DIPLM)\n\n\nFALSE \nFALSE   &lt; BAC     BAC BAC+123 &gt; BAC+3 \nFALSE   12206    7423   10379    9766\n\n\nCode\nknitr::kable(head(tab_sel,3))\n\n\n\n\n\nDIPLM\nHLML\nIPONDL\n\n\n\n\nBAC\nHLM-N\n2.48657\n\n\nBAC\nHLM-N\n2.48657\n\n\n&gt; BAC+3\nHLM-N\n2.48657\n\n\n\n\n\n\n\nCréation du tableau de contingence non pondéré (FAUX)\nLa solution la plus simple semble être l’instruction table()\n\n\nCode\ntab_cont&lt;-table(tab_sel$HLML,tab_sel$DIPLM)\n\nknitr::kable(addmargins(tab_cont))\n\n\n\n\n\n\n&lt; BAC\nBAC\nBAC+123\n&gt; BAC+3\nSum\n\n\n\n\nHLM-O\n3314\n1319\n931\n439\n6003\n\n\nHLM-N\n8892\n6104\n9448\n9327\n33771\n\n\nSum\n12206\n7423\n10379\n9766\n39774\n\n\n\n\n\n\n\nCréation du tableau de contingence pondéré (JUSTE)\nOn pondère avec wtd.table() du package questionr.\n\n\nprogramme\n\n\nCode\nlibrary(questionr)\ntab_cont_wtd&lt;-wtd.table(tab_sel$HLML,tab_sel$DIPLM,\n                        weights = tab_sel$IPONDL)\n\nknitr::kable(round(addmargins(tab_cont_wtd),0))\n\n\n\n\n\n\n&lt; BAC\nBAC\nBAC+123\n&gt; BAC+3\nSum\n\n\n\n\nHLM-O\n7538\n2898\n2096\n960\n13492\n\n\nHLM-N\n22318\n14339\n21648\n21557\n79862\n\n\nSum\n29855\n17237\n23744\n22518\n93354\n\n\n\n\n\n\n\nComparaison des résultats en %\n\nTableau non pondéré … légèrement faux !\n\n\n\n\n\n\n\n&lt; BAC\nBAC\nBAC+123\n&gt; BAC+3\nAll\n\n\n\n\nHLM-O\n27.2\n17.8\n9\n4.5\n15.1\n\n\nHLM-N\n72.8\n82.2\n91\n95.5\n84.9\n\n\nTotal\n100.0\n100.0\n100\n100.0\n100.0\n\n\n\n\n\n\nTableau pondéré … juste !\n\n\n\n\n\n\n\n&lt; BAC\nBAC\nBAC+123\n&gt; BAC+3\nAll\n\n\n\n\nHLM-O\n25.2\n16.8\n8.8\n4.3\n14.5\n\n\nHLM-N\n74.8\n83.2\n91.2\n95.7\n85.5\n\n\nTotal\n100.0\n100.0\n100.0\n100.0\n100.0\n\n\n\n\n\n\n\nVisualisation du tableau de contingence\nOn choisit l’orientation du tableau et on l’affiche avec plot()\n\n\nCode\nmytable&lt;-wtd.table(tab_sel$DIPLM,tab_sel$HLML,weights = tab_sel$IPONDL)\nplot(mytable)\n\n\n\n\n\nTant qu’à faire, on améliore la figure avec des paramètres supplémentaires :\n\n\n\n\n\n\n\nTest du Chi-deux\nCe test se réalise facilement sur le tableau de contingence avec l’instruction chisq.test() :\n\n\nCode\nmytest&lt;-chisq.test(mytable)\nmytest\n\n\n\n    Pearson's Chi-squared test\n\ndata:  mytable\nX-squared = 5389.3, df = 3, p-value &lt; 2.2e-16\n\n\nLa lecture de la p-value permet de savoir s’il existe une relation significative entre les deux variables.\n\n\nVisualisation des résidus\nLorsque la relation est significative, on peut visualiser les cases les plus exceptionnelles avec mosaicplot( …, shade = T)"
  },
  {
    "objectID": "02-agregation-sociale.html#exemple-2-hlm-et-ancienneté-doccupation",
    "href": "02-agregation-sociale.html#exemple-2-hlm-et-ancienneté-doccupation",
    "title": "Agrégation sociale",
    "section": "Exemple 2 : HLM et ancienneté d’occupation",
    "text": "Exemple 2 : HLM et ancienneté d’occupation\nDans ce deuxième exemple, on se propose d’analyser si les habitants des HLM y résident depuis plus longtemps que les habitants d’autres types de logements. On va donc calculer leur ancienneté moyenne puis déterminer à l’aide d’un test d’égalité des moyennes s’il y a des différences significatives.\nNous devons comme précédemment tenir compte des pondérations\n\nPréparation des données\n\n\nCode\ntab_sel&lt;- tab_ind  %&gt;%\n  select(ANEM,HLML,IPONDL) %&gt;% \n  filter(ANEM != \"999\") %&gt;%\n  mutate(ANEM = as.numeric(ANEM)) \n\ntab_sel$HLML&lt;-as.factor(tab_sel$HLML)\nlevels(tab_sel$HLML)&lt;-c(\"Oui\",\"Non\")\nhead(tab_sel)\n\n\n  ANEM HLML  IPONDL\n1   11  Non 2.48657\n2   12  Non 2.48657\n3   10  Non 2.48657\n4   81  Non 2.48657\n5   10  Non 2.48657\n6    1  Non 2.48657\n\n\n\n\nStatistiques non pondérées\nOn peut commencer par une description rapide sans pondération :\n\n\nCode\ntapply(tab_sel$ANEM, tab_sel$HLML, summary)\n\n\n$Oui\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   0.00    3.00    8.00   13.73   20.00   88.00 \n\n$Non\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    0.0     2.0     5.0    12.1    18.0   101.0 \n\n\nOn découvre - avec surprise - que l’ancienneté d’occupation des ménages qui résdient en HLM est plus importante que celle des autres ménages. Est-ce une erreur liée à l’absence de pondération ?\n\n\nMoyenne et ecart-types pondérés\nOn calcule la moyenne et l’écart-type pondérés à l’aide du package weights.\n\n\nCode\nlibrary(weights,quietly = T, verbose=F)\n\n\n\nAttaching package: 'Hmisc'\n\n\nThe following objects are masked from 'package:questionr':\n\n    describe, wtd.mean, wtd.table, wtd.var\n\n\nThe following objects are masked from 'package:dplyr':\n\n    src, summarize\n\n\nThe following objects are masked from 'package:base':\n\n    format.pval, units\n\n\nCode\ntab_sel %&gt;% group_by(HLML) %&gt;%\n           summarise(moyenne=wtd.mean(ANEM,IPONDL),\n                     variance = wtd.var(ANEM,IPONDL),\n                     ectype = sqrt(variance))\n\n\n# A tibble: 2 × 4\n  HLML  moyenne variance ectype\n  &lt;fct&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;\n1 Oui      15.1     202.   14.2\n2 Non      13.5     228.   15.1\n\n\nLes valeurs sont différentes mais la conclusion demeure la même : les ménages qui résident en HLM y sont depuis plus longtemps que les autres. Toutefois l’écart-type est également tr§s grand ce qui incité à visualiser les distributions.\n\n\nBoxplot\n\n\nCode\nggplot(data = tab_sel)+ aes(x=ANEM, y = HLML) +\n      geom_boxplot() +\n      scale_x_continuous(\"Ancienneté d'occupation (en année)\") +\n      scale_y_discrete(\"Ménages logés en HLM\") +\n      ggtitle(\"Ancienneté d'occupation selon la résdience en HLM à Marseille\",\n              subtitle = \"Source : INSEE RP 2020\") + \n      theme_gray()\n\n\n\n\n\nIl y a effectivement un décalage, aussi bien pour la moyenne, la médiane et les quartiles. Pour conclure on va donc réaliser un test.\n\n\nTest d’égalité des moyennes\n\n\nCode\nt.test(ANEM~HLML, data=tab_sel)\n\n\n\n    Welch Two Sample t-test\n\ndata:  ANEM by HLML\nt = 17.777, df = 41032, p-value &lt; 2.2e-16\nalternative hypothesis: true difference in means between group Oui and group Non is not equal to 0\n95 percent confidence interval:\n 1.447961 1.806821\nsample estimates:\nmean in group Oui mean in group Non \n         13.72549          12.09810 \n\n\nOn peut conclure cette fois-ci sans risque d’erreur (p &lt; 0.001) que les habitants des HLM y résident depuis plus longtemps que ceux des autres logements à Marseille en 2020."
  }
]